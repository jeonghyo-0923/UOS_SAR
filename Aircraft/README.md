# 유인기 기반 객체 탐지 및 지오레퍼런싱 시스템
- 항공기로 촬영한 영상을 입력으로 받아, 이미지 내 존재하는 객체를 자동으로 탐지하고,
각 객체의 경위도 좌표를 계산하여 객체 단위의 크롭 이미지 및 JSON 형식 속성정보를 출력

## 최종 가시화 결과
<div align="center">
<img width="800" alt="image" src="https://github.com/user-attachments/assets/7a281e26-7e8f-4cb8-89ba-d48cde921bf7" />
</div>

- 유인기
  - 유인기의 위치 기반 수색 경로 시각화
  - 비행 중 기록된 경위도 좌표 출력
- 탐지된 객체
  - 객체 클래스 정보 표시(선박, 사람)
  - 촬영 영상 기준 탐지 객체의 경위도 좌표 제공
  - 탐지된 객체 영역을 크롭한 이미지 출력
  - 탐지 시각(타임스탬프) 정보 표시

# 주요기능
1. 동영상을 이미지로 변환: 동영상을 입력으로 하여 프레임 단위로 이미지 변환
2. 유인기 영상에서 OCR기반 메타데이터 추출
3. 선박 탐지: 미리 학습된 모델을 활용해 선박 탐지
4. 지오레퍼런싱: 탐지된 객체의 중심 위치를 실제 경위도 좌표로 변환
5. 객체 정보 출력: 객체 단위로 이미지 crop된 이미지 및 JSON 파일(속성정보) 생성


# 폴더구조 - 수정필요
```
[수정할것]
.
├── dataset/
│   ├── test/
│   └── video/
├── result/
│   ├── images/
│   └── json/
└── runs/
```

# 디렉토리 정보 및 입출력 예시
### (입력) `input/images`: 입력 이미지 (드론 촬영 .JPG 파일)
```bash
input/images/
├── DJI_0775.JPG
├── DJI_0776.JPG
```

### (출력 - 이미지) `result/images`: 선박 단위로 잘라낸 이미지
- <원본 이미지명>_<객체순번>.JPG으로 저장(속성정보와 이미지명으로 1:1대응)
```
result/images/
├── DJI_0775_0.JPG
├── DJI_0775_1.JPG
├── DJI_0776_0.JPG
├── DJI_0777_0.JPG
```

- 예시
<div align="center">
<img src="https://github.com/user-attachments/assets/85ad56e3-ddb9-45f2-ab1e-54b25c678fb3" alt="최종 목표 가시화" width="200"/>
</div>

### (출력- 속성정보) `result/json`: 선박 정보 (위치, 클래스 등) 포함한 JSON
- <원본 이미지명>_<객체순번>.json으로 저장(속성정보와 이미지명으로 1:1대응)
```
result/images/
├── DJI_0775_0.json
├── DJI_0775_1.json
├── DJI_0776_0.json
├── DJI_0777_0.json
```

- 예시
```bash
{
    "class_id": 0,                                               # 0:선박, 1:사람(현재는 선박 기준으로 개발됨. 추후 사람 클래스 추가 예정)
    "image_path": "./result/images/DJI_0775_0.jpg",              # 해당 이미지 경로
    "drone_lat": 35.924652214,                                   # 드론 위도 좌표
    "drone_lon": 126.515188839,                                  # 드론 경도 좌표
    "gps_lat": 35.92450570883135,                                # 객체 위도 좌표
    "gps_lon": 126.51777891662977,                               # 객체 경도 좌표
    "capture_time": "2023-09-19T09:07:49"                        # 이미지 촬영 시간
}
```
